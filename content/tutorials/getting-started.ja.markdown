---
タイトル: はじめに
カテゴリ: 全般
難易度: かんたん
---

## ようこそ VRChat API へ！

VRChat APIは、プロフィール、フレンド、アバター、ワールドなどに関する情報を取得・更新するためとかに使えます。このAPIはREST思想に基づいて設計されているので、オブジェクトにアクセスしたり変更したりするために必要なURIを、予測可能かつ(やや)シンプルな形で提供できます。ここ「はじめに」ページでは、最短でVRChat APIを使い始めるための方法が記述されています。

## どこから始めればいいの？

まずは環境を整えましょう。必要なソフトをダウンロードして、APIの仕様書もダウンロードし、APIの中身を覗いてみましょう。
そしてかんたんなAPIリクエストを出して、レスポンスを取得できるか見てましょう。

「そんなのもう知ってるよ！もっと高度なことがしたい！」って方は[チュートリアル](/tutorials)から自分にあったページを見つけたり、このページの右にある **NEXT** を押すことによって次のチュートリアルへ行くことができます。

## 環境準備

### まずはInsomniaをダウンロードしよう！

InsomniaはWindows、Linux、Macで動く高速なRESTクライアントです。
Insomniaは、初心者さんにもやさしいユーザーフレンドリーなインターフェースでAPIを探索するために使用することができます。
認証、Cookieの管理、環境変数とかも自動的に処理してくれます。

<a target="_blank" href="https://insomnia.rest/download" class="btn btn-purple fw-bold btn-lg">Download Insomnia</a>

ダウンロードしたEXE（もしくはお使いのOSに対応したバイナリ）をクリックするだけで、Insomniaが自動的にインストールされます。
インストールが完了すると、下の画像のようなウィンドウが表示されます。
右上の "歯車 "アイコンをクリックすると、テーマを変更することができます。
このチュートリアルでは、"Hyper" テーマを使用しますが、手順は同じです。

![Insomniaインストール画面](/assets/img/tutorials/getting-started/insomnia1.png)

### そしてAPIの仕様書をダウンロードしよう！

次はVRChatAPIのAPI仕様(specification)をダウンロードします。
これはコミュニティによって作られたOpenAPI形式のファイルで、一般人がアクセスできるすべてのパブリックエンドポイントとその使い方を定義しています。

![URLから作成](/assets/img/tutorials/getting-started/insomnia2.png)

右上のにある`Create`から`URL`をクリックし、出てきたポップアップボックスに以下のURLを入力し、`Fetch and Import`を押してください。

```
https://vrchatapi.github.io/specification/openapi.yaml
```

次に、`How would you like to import VRChat API Documentation?`的なことを聞かれるので、**Request Collection**を選択します。
べつにAPIのドキュメンテーションをデザインしたいわけじゃないからね。（初見ではわからないけど...）

![コレクションを要求](/assets/img/tutorials/getting-started/insomnia3.png)

そして`Import Succeeded`みたいなことを言われたら成功です！`OK`を押して、ダッシュボードにポツンと置いてある "VRChat API Documentation" をクリックしましょう。

## はじめてのAPIリクエスト

ではでは、はじめてのAPIリクエストを送信してみましょう！とっても簡単だけど同時にすごく大事な「システム構成の取得」をします。
システム構成にはアナウンスメント、ワールドのリスト、最新のVRCSDKへのリンクなど、さまざまな情報が含まれています。そのシステム構成のなかでも最も重要なのが`apikey`です。 システム構成を取得するとこの`apikey`がクッキーとし設定されます。

さぁ、左の **system** フォルダーから **Fetch API Config** を探し出し、右上に出てくる **Send** を押してみましょう！

![APIをFetch](/assets/img/tutorials/getting-started/insomnia4.png)

このAPIキーは、以降すべてのリクエストに必要です。このAPIキーはいまさっき作られた個人的なものではありません（どころかここ8年ずーっと同じキーだったりします）。
画像右に表示されている`Preview`タブからリクエストのレスポンスを見たり、`Header`のタブからヘッダーを確認したり、`Cookie`のタブからついさっき設定されたクッキーを表示させることができます。
なお、クッキーとはグローバルなものなのです。いま使っている全てのクッキーの保存状態...「クッキーストレージ」を見るには、ウィンドウの**左上**にある`Cookie`をクリックします。そうするとクッキーの保存状態を確認することができます。

次に認証を行います。ほとんどのリクエストにはVRChatへのログインが必要なので、認証は大事です。
左側にある**authentication**フォルダをクリックし、**Login and/or Get Current User Info** というエンドポイントを見つけてください。
ところでVRChatでは、自分のユーザー情報を取得するのと同じエンドポイントが認証にも使用されます。
もしあなたがVRChatへログインしていなかった場合、このエンドポイントは`authtoken`クッキーを生成し、あなたのユーザー情報を返します。
すでにログインしている場合は特に何も起きず、あなたのユーザー情報のみが返されます。

それでは実践です；APIでログインしてみましょう！
**Basic**タブをクリックし、`httpUsername`と`httpPassword`の**すぐ隣**をクリックして、キーボードの`Backspace`や`Delete`キーなどでそれら変数を削除してください。
そして代わりに自分のユーザー名とパスワードを記入しちゃって、右上の**Send**を押しましょう。

![](/assets/img/tutorials/getting-started/insomnia5.png)

2FAを有効にしていない場合（有効にしておくことをつよくおすすめします）、右側に自分のユーザー情報が返されるのが確認できるハズです。
2FAを有効にしている場合（いいねいいねっ👍）、左側の **Verify 2FA code** エンドポイントを見つけて、真ん中の`JSON`タブをクリックする必要があります。
そしてそのタブの中にある`string`を2FAアプリから発行されたコードへ書き換えます。すべてが正しく検証されるとレスポンスに `verified: true` と表示されます。


今なら、さっきいた **Login and/or Get Current User Info** エンドポイントで自分のユーザー名とパスワードを書き込んでログインすると、自分の情報が見れるようになるはずです。

<div class="callout callout-warning mb-3">
  <strong>⚠️注意：アカウントロックの可能性があるよ!</strong><br>
    もしエラーが出た場合は直ちに[Discord](https://discord.gg/qjZE9C9fkB)の、Helpチャンネルへ書き込んで下さい。2FA認証が設定されたアカウントでログイン失敗を繰り返すとアカウントが一時的にロックされます！
</div>

![](/assets/img/tutorials/getting-started/insomnia6.png)

**以上です！🎉 VRChat API はじめてのチュートリアルクリア、おめでとうございます！**

でも本番はここからですよ？ここからあなたの旅がはじまるのです！APIを探索したり、いろいろといじくりまわって、なにが出来てなにが出来ないのかを試したりすることができます。
ほとんどのエンドポイントはその名の通りのことをするので自明ですし、もし何かわからないことがあればいつでも[API Documentation](/docs/api)を確認できますし、いざとなれば[Discordサーバー](https://discord.gg/qjZE9C9fkB)だってあります。
ちなみに1分間に送信するリクエストの数は最小限にしてください。あまりにも早くリクエストを送信すると、レート制限を喰らいます。

これでAPIの探索を開始し、何が可能か遊びまわることができます。
もし何か疑問があれば、[API Documentation](/docs/api) を見るか、Discordでコンタクトを取ってください。
1分間に送信するリクエストの数は最小限にしてください。あまりに早くリクエストを送信すると、レート制限を受けることになります。

また、削除したワールドやアバターなどのリソースは復元不可能なので、自己責任でお願いします。
余談ですが英語版チュートリアル(原文の方)を書いた筆者さんは間違って過去2年間に行った全てのモデレーション（アバターミュートやユーザーブロック等）を消去しちゃったそうです。（でもそれはまた別のお話だってさ）（終）
